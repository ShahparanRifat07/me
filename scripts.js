function splitTextIntoSpans(t){let r=t.innerText;t.innerHTML="",r.split("").forEach(r=>{let o=document.createElement("span");o.innerText=r,t.appendChild(o)})}function smoothenScroll(){let t=new Lenis;return t.on("scroll",t=>{}),t.on("scroll",ScrollTrigger.update),gsap.ticker.add(r=>{t.raf(500*r)}),gsap.ticker.lagSmoothing(0),t}function smoothScrollToSection(t){gsap.to(window,{duration:1,scrollTo:{y:t,offsetY:50},ease:"power2.inOut"})}function customCursor(){let t=document.querySelector("#custom-cursor"),r=document.querySelectorAll(".project-card");window.innerWidth>=992&&r.forEach((r,o)=>{r.addEventListener("mousemove",r=>{gsap.to(t,{x:r.clientX+"px",y:r.clientY+"px",xPercent:-50,yPercent:-50,duration:.3,ease:"power1.out"})}),r.addEventListener("mouseenter",r=>{t.classList.add("active"),t.innerHTML="<p>VIEW</p> <br> <p> PROJECT </p>",gsap.to(t,{x:r.clientX+"px",y:r.clientY+"px",xPercent:-50,yPercent:-50,duration:.3,height:100,width:100,borderRadius:50,opacity:1,backgroundColor:"var(--tomato)",ease:"none"})}),r.addEventListener("mouseleave",()=>{gsap.to(t,{top:e.clientX+"px",left:e.clientY+"px",xPercent:-50,yPercent:-50,duration:.3,height:0,width:0,opacity:0,backgroundColor:"transparent",ease:"none"})})})}function showHideNavbar(){var t=window.pageYOffset;window.onscroll=function(){var r=window.pageYOffset;t>r?document.querySelector(".nav").style.top="0":document.querySelector(".nav").style.top="-10vh",t=r}}function navbar(t){let r=document.querySelector(".nav-menu"),o=document.querySelector(".expend-nav"),n=document.querySelector(".close-btn-text"),i=document.querySelector(".logo svg path");function a(){return gsap.timeline().to(".right-nav",{yPercent:100,duration:.5},"a").to(".nav-link",{xPercent:100,duration:.5,stagger:.1},"a").to(o,{duration:.2,opacity:0}).to(o,{zIndex:-100,duration:.1})}getComputedStyle(i).getPropertyValue("fill"),r.addEventListener("click",()=>{gsap.set(".right-nav",{yPercent:0}),gsap.set(".nav-link",{xPercent:0}),o.style.zIndex=150,gsap.timeline().to(o,{duration:.2,opacity:1}).from(".right-nav",{yPercent:100,duration:.5},"a").from(".nav-link",{xPercent:100,duration:.5,stagger:.1},"a")}),n.addEventListener("click",()=>{a()}),[{selector:".work-nav-link",target:".inner-section-6",offset:0},{selector:".about-nav-link",target:".section-2-inner",offset:0},{selector:".education-nav-link",target:".inner-section-4",offset:60},{selector:".experience-nav-link",target:".inner-section-5",offset:150},{selector:".contact-nav-link",target:".section-9",offset:0}].forEach(({selector:r,target:o,offset:n})=>{document.querySelector(r).addEventListener("click",()=>{a().then(()=>{!function r(o,n){let i=document.querySelector(o);if(!i)return;ScrollTrigger.refresh();let a="fixed"===window.getComputedStyle(i).position;if(a){let c=window.innerHeight,l=document.documentElement.scrollHeight;t.scrollTo(l-c,{duration:1.5,easing:t=>Math.min(1,1.001-Math.pow(2,-10*t))})}else t.scrollTo(i,{offset:n,duration:1.5,easing:t=>Math.min(1,1.001-Math.pow(2,-10*t))})}(o,n)})})})}function updateDhakaTime(){let t=new Date,r=new Intl.DateTimeFormat("en-US",{timeZone:"Asia/Dhaka",hour:"2-digit",minute:"2-digit",hour12:!0}).format(t);document.querySelector(".local-time").innerText=r}function heroSectionAnimation(){let t=document.querySelector(".hero-text-1"),r=document.querySelector(".hero-text-2"),o=document.querySelector(".author-name");splitTextIntoSpans(t),splitTextIntoSpans(r);let n=gsap.timeline();n.from(o,{opacity:0,yPercent:100,duration:1.25}),n.from(".hero-text-1",{xPercent:5,duration:1},"a"),n.from(".hero-text-2",{xPercent:-5,duration:1},"a"),n.from(".hero-text-1 span",{opacity:0,stagger:.08,duration:1.5},"a"),n.from(".hero-text-2 span",{opacity:0,stagger:{each:.08,from:"end"},duration:1.5},"a"),n.from(".bottom-hero-section",{opacity:0,yPercent:100,duration:1},"-=1.5"),n.from(".nav",{opacity:0,yPercent:-100,duration:1},"-=1.5"),n.from(".middle-hero-section",{opacity:0,yPercent:15,duration:1},"-=1.5")}function section2Animation(){let t=document.querySelector(".section-2"),r=document.querySelector(".section-2-inner"),o=document.querySelector(".section-2-content > div:first-child  p"),n=document.querySelector(".section-2-content > div:last-child p");splitTextIntoSpans(o),splitTextIntoSpans(n),gsap.registerPlugin(ScrollTrigger),gsap.from(".section-2-heading span",{y:"100%",duration:5,stagger:.5,ease:"sine.out",opacity:0,scrollTrigger:{trigger:t,start:`${r.offsetTop-150}px top`,end:()=>`+=${.3*t.clientHeight}`,scrub:1}}),console.log(r.clientHeight,r.offsetTop);gsap.timeline({scrollTrigger:{trigger:t,pin:!0,start:`${r.offsetTop}px top`,end:()=>`bottom+=${1.5*r.clientHeight}px bottom`,scrub:1}}).to(".section-2-text span",{opacity:1,stagger:.5})}function section3Animation(t){let r=document.querySelector(".section-3 p");splitTextIntoSpans(r);let o=gsap.timeline();o.from(".section-3 p span",{y:"100%",duration:5,stagger:.5,ease:"sine.out",opacity:0,scrollTrigger:{trigger:".section-3",start:"top center",end:"bottom bottom",scrub:1}}),o.to(".section-3 p",{scale:2,fontSize:"350vw",duration:5,ease:"power2.in",transformOrigin:"48% 45%",scrollTrigger:{trigger:".section-3",start:"center center",end:"bottom+=50% bottom",scrub:.5,pin:!0}},"a");let n=gsap.timeline();n.to(".inner-section-4",{scale:1,duration:3,ease:"power2.in",scrollTrigger:{trigger:".section-4",start:"top top",end:"+=1000px center",scrub:!0,pin:!0}})}function section4Animation(){let t=document.querySelectorAll(".degree");t.forEach(t=>{splitTextIntoSpans(t)});let r=document.querySelectorAll(".edu-card");r.forEach(t=>{let o=t.querySelector(".degree-title");t.querySelector(".degree-info");let n=t.querySelectorAll(".degree-info p");o.addEventListener("mouseover",()=>{let i=o.querySelectorAll(".first-text span"),a=o.querySelectorAll(".second-text span");gsap.to(i,{yPercent:-100,stagger:.01,ease:"sine.out",duration:.5,delay:.35}),gsap.to(a,{yPercent:-100,stagger:.01,ease:"sine.out",duration:.5,delay:.35}),gsap.to(n,{opacity:1,ease:"sine.out",stagger:.3}),r.forEach(r=>{if(r!==t){let o=r.querySelector(".degree-title");gsap.to(o,{opacity:.3,duration:.3})}})}),o.addEventListener("mouseleave",()=>{let t=o.querySelectorAll(".first-text span"),i=o.querySelectorAll(".second-text span");gsap.to(t,{yPercent:0,stagger:.01,ease:"power2.in",duration:.5,delay:.35}),gsap.to(i,{yPercent:100,stagger:.01,ease:"power2.in",duration:.5,delay:.35}),gsap.to(n,{opacity:.35,ease:"sine.out",stagger:.3}),r.forEach(t=>{let r=t.querySelector(".degree-title");gsap.to(r,{opacity:1,duration:.3})})})})}function section5Animation(){splitTextIntoSpans(document.querySelector(".experience-title")),document.querySelectorAll(".experience-wrapper p");gsap.timeline().from(".experience-title span ",{yPercent:30,opacity:0,duration:6,stagger:.6,ease:"power2.in",scrollTrigger:{trigger:".experience-heading",start:"top center",end:"bottom bottom",scrub:1}});let t=gsap.utils.toArray(".experience-card");t.forEach((t,r)=>{gsap.from(t,{yPercent:50,opacity:0,duration:1.5,ease:"expo.out",stagger:.1,scrollTrigger:{trigger:t,start:"-50% 80%",end:"+=800px bottom",scrub:1}})})}function section6Animation(){let t=document.querySelector(".section-6"),r=document.querySelector(".section-5"),o=document.querySelector(".my-works-heading-warpper p");splitTextIntoSpans(o),gsap.utils.toArray(".panel");let n=gsap.timeline();n.to(t,{backgroundColor:"black",duration:2,ease:"power2.in",scrollTrigger:{trigger:t,start:"20% center",end:"30% center",scrub:1}}).to(r,{backgroundColor:"black",duration:2,ease:"power2.in",scrollTrigger:{trigger:t,start:"20% center",end:"30% center",scrub:1}}).from(".my-works-heading-warpper p span",{duration:5,stagger:.5,ease:"sine.out",opacity:0,scrollTrigger:{trigger:t,start:"20% center",end:"bottom center",scrub:1}}),gsap.to(".inner-section-6",{x:()=>-(t.scrollWidth-window.innerWidth),ease:"none",scrollTrigger:{trigger:t,start:"50% center",end:"+=3000",pin:!0,scrub:1,invalidateOnRefresh:!0,anticipatePin:1,invalidateOnRefresh:!0,anticipatePin:1}})}function section7Animation(){let t=document.querySelector(".section-7"),r=document.querySelector(".section-7-inner"),o=gsap.timeline({scrollTrigger:{trigger:t,start:`${r.offsetTop}px top`,end:"+=2000px center",pin:!0,scrub:1}});o.to("#python",{filter:"blur(0)",opacity:1,duration:.3}),o.to("#django",{filter:"blur(0)",opacity:1,duration:.3}),o.to("#figma",{filter:"blur(0)",opacity:1,duration:.3}),o.to("#gsap",{filter:"blur(0)",opacity:1,duration:.3}),o.to("#webflow",{filter:"blur(0)",opacity:1,duration:.3}),o.to("#git",{filter:"blur(0)",opacity:1,duration:.3}),o.to("#postgres",{filter:"blur(0)",opacity:1,duration:.3}),o.to("#fastapi",{filter:"blur(0)",opacity:1,duration:.3}),o.to("#laravel",{filter:"blur(0)",opacity:1,duration:.3}),o.to("#spring-boot",{filter:"blur(0)",opacity:1,duration:.3}),o.to("#wordpress",{filter:"blur(0)",opacity:1,duration:.3}),o.to("#redis",{filter:"blur(0)",opacity:1,duration:.3}),o.to("#javascript",{filter:"blur(0)",opacity:1,duration:.3}),o.to("#drf",{filter:"blur(0)",opacity:1,duration:.3}),o.to("#docker",{filter:"blur(0)",opacity:1,duration:.3}),o.to("#php",{filter:"blur(0)",opacity:1,duration:.3}),o.to("#mysql",{filter:"blur(0)",opacity:1,duration:.3}),o.to("#rabbitmq",{filter:"blur(0)",opacity:1,duration:.3}),o.to("#java",{filter:"blur(0)",opacity:1,duration:.3}),o.to("#framer",{filter:"blur(0)",opacity:1,duration:.3})}document.addEventListener("DOMContentLoaded",()=>{let t=smoothenScroll();navbar(t),heroSectionAnimation(),customCursor(),showHideNavbar(),section2Animation(),section3Animation(t),section4Animation(),section5Animation(),section6Animation(),section7Animation(),updateDhakaTime(),setInterval(updateDhakaTime,1e3)});